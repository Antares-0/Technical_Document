# 分布式事务

|              方案              |           特点            |  注意  |
|:----------------------------:|:-----------------------:|:----:|
|            `2PC`             |       返回指定下标处的字符        |      |
|            `3PC`             |      按照字典顺序比较两个字符串      |      |
|           `equals`           |    判断两个字符串的长度和内容是否相等    |      |
|          `indexOf`           | 返回字符串中某个字符或子字符串首次出现的下标  |      |
|        `lastIndexOf`         | 返回字符串中某个字符或子字符串最后出现的下标  |      |
|           `length`           |        返回字符串的长度         |      |
|           `split`            | 将字符串按照指定的分隔符进行分割，返回一个数组 |      |
|         `substring`          |       按照下标截取子字符串        |      |
| `toLowerCase / toUpperCase`  |    将字符串中的所有字母变为大写或小写    |      |

## 一、2PC
1. 概念：两阶段提交
   - 准备阶段：协调者节点询问所有参与者是否准备好提交事务
   - 提交阶段：如果所有节点都准备好了，就直接提交事务；有一个节点没准备好，就直接回滚
2. 优点：
   - 原子性保证：可以保证所有的事务要么成功，要么失败
   - 简单直接，容易理解
3. 缺点：
   - 资源锁定：准备阶段，所有资源都在被锁定的状态等待外部触发，不利于高并发的实现
   - 单点故障：如果提交阶段协调者出现了问题，其他节点都在阻塞等待

## 二、3PC
1. 概念：三阶段提交，是两阶段提交的改进版本
2. 

## 三、TCC
1. 概念：Try - Confirm - Cancel三阶段
   - Try：
2. 




参考资料
1. https://blog.csdn.net/weixin_48321993/article/details/135243810