# 计算机数值的补码表示

## 一、计算机使用补码表示
1. 问题来源：为什么有符号整数的范围是`-128~127`？
2. 补码表示案例：换句话说，0和-128的低7位是一样的，-1和127的低7位是一样的，有一点反直觉
   ```txt
   0的补码：0000 0000
   1的补码：0000 0001
   2的补码：0000 0010
   127的补码：1111 1111
   
   -1的补码：1111 1111
   -2的补码：1111 1110
   -127的补码：1000 0001
   -128的补码：1000 0000，其实就是 -0的位置
   ```
   

## 二、为什么要使用补码表示
计算机使用补码表示数值，主要是为了简化运算逻辑、消除歧义并提高硬件效率，核心原因如下：
1. 统一加减法运算
   补码的最大优势是将减法运算转化为加法运算，计算直接使用补码就可以了
   - 在原码/反码中，加法和减法需要两套不同的电路（如处理符号位的比较和进位）；
   - 补码中，`a - b` 可以等价为 `a + (-b的补码)`，只需一套加法电路即可完成所有整数运算，极大简化了硬件设计。
   例如：计算 `3 - 2`（即 `3 + (-2)`）
   - 3的补码：`00000011`
   - -2的补码：`11111110`
   - 相加结果：`00000011 + 11111110 = 00000001`（即1，正确）。
2. 消除“正负零”的歧义
   - 原码和反码中，`+0`（`00000000`）和 `-0`（`10000000`）是两个不同的表示，会导致逻辑混乱（如判断“是否为零”需要额外处理两种情况）；
   - 补码中，`-0` 的补码计算后与 `+0` 完全一致（均为 `00000000`），只存在唯一的零表示，避免了歧义。
3. 充分利用存储空间
   8位补码能表示的范围是 `-128 ~ 127`（共256个数值），而原码/反码只能表示 `-127 ~ 127`（因 `-0` 占用了一个位置）。  
   补码通过将原码中 `-0` 的位置（`10000000`）定义为最小负数 `-128`，更充分地利用了有限的比特位，扩大了表示范围。
4. 符号位自然参与运算
   补码的符号位（最高位）可以像数值位一样直接参与加法运算，无需额外的符号处理逻辑。  
   例如：计算 `-1 + (-1)`
   - -1的补码：`11111111`
   - 相加结果：`11111111 + 11111111 = 11111110`（即 `-2`，正确，符号位自然保留）。

综上，补码通过简化运算电路、消除歧义、优化存储空间，成为计算机中整数表示的标准方式，是硬件效率与逻辑一致性的最优选择。

## 三、补码仅仅针对有符号数值类型，字符串、无符号类型数据不涉及