# ZGC——Java 11 新的垃圾回收器


## 一、ZGC的基本情况
1. ZGC是一种可扩展和低时延的JVM垃圾回收器，能够实现大规模Java程序的快速内存分配和回收。在处理高负载情况下，ZGC表现出色。
2. 基本情况：停顿时间不超过10ms、停顿时间不会随着堆的大小，或者活跃对象的大小而增加，支持8MB—4TB的堆
3. ZGC算法中，没有分代的概念，不存在YoungGC、OldGC，所有的GC都是FullGC。


## 二、ZGC内部技术
1. ZGC的Region定义
   1. 和G1垃圾回收器一样，ZGC也采用基于Region的堆内存布局，与G1不同的是，ZGC的Region具有动态性——动态创建和销毁，以及动态的区域容量大小
   2. ZGC的大小容量：
      1. Small Region：容量固定为2MB，用于放置小于256KB的小对象。
      2. Medium Region：容量固定为32MB，用于放置大于等于256KB但小于4MB的对象。
      3. Large Region：容量不固定，可以动态变化，但必须为2MB的整数倍，用于放置4MB或以上的大对象。  
      > 每个大型Region中只会存放一个大对象，这也预示着虽然名字叫作「大型Region」，但它的实际容量完全有可能小于中型Region，最小容量可低至4MB。大型Region在ZGC的实现中是不会被重分配的，因为复制一个大对象的代价非常高昂
   3. 
2. ZGC的读屏障技术
3. ZGC的三色染色指针
   1. 






1. 颜色指针
2. 读屏障
3. 写屏障
4. 内存多重映射
5. 并发重定位
6. 并发重映射
7. 并发预沉降
8. 并发类卸载
9. 并发线程栈处理




## 三、其他关于ZGC的事情
1. ZGC实战：ZGC目前在目前的系统上运行良好，没有出现什么大问题。
2. 



参考资料
1. https://zhuanlan.zhihu.com/p/698634848
2. 

